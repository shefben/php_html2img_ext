# Generated by configure.js
PHP_SRC_DIR =F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src
PHP_CL=cl.exe 

PHP_COMPILER_SHORT=vs17 

PHP_ARCHITECTURE=x64 

LINK=link.exe 

NMAKE=nmake.exe 

MAKE_LIB=lib.exe 

BISON=bison.exe 

BISON_FLAGS=-Wall 

SED=sed.exe 

RE2C=re2c.exe 

RE2C_FLAGS=--no-generation-date 

MC=C:\Program Files (x86)\Windows Kits\10\bin\10.0.22621.0\\x64\mc.exe 

MT=C:\Program Files (x86)\Windows Kits\10\bin\10.0.22621.0\\x64\mt.exe 

PHP_PREFIX=C:\php 

BASE_INCLUDES=/I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64/include /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64/include/main /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64/include/Zend /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64/include/TSRM /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64/include/ext 

CFLAGS_PHP_OBJ=$(CFLAGS_PHP) $(STATIC_EXT_CFLAGS) 

DLL_LDFLAGS=/dll 

PHP_LDFLAGS=$(DLL_LDFLAGS) /nodefaultlib:libcmt 

LIBS=kernel32.lib ole32.lib user32.lib advapi32.lib shell32.lib ws2_32.lib Dnsapi.lib psapi.lib bcrypt.lib 

ZTS=0 

PHP_ZTS_ARCHIVE_POSTFIX=-nts 

BUILD_DIR=F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\x64\Release 

PHPDLL=php8.dll 

PHPLIB=php8.lib 

PHP_BUILD=F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\no 

CFLAGS=/nologo $(BASE_INCLUDES) /D _WINDOWS /D WINDOWS=1 /D ZEND_WIN32=1 /D PHP_WIN32=1 /D WIN32 /D _MBCS /D _USE_MATH_DEFINES /FD /wd4996 /Qspectre /guard:cf /Zc:inline /Zc:__cplusplus /d2FuncCache1 /Zc:preprocessor /Zc:wchar_t /MP /LD /MD /Ox /D NDebug /D NDEBUG /GF /D ZEND_DEBUG=0 /I "F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\no\include" 

LDFLAGS=/nologo /GUARD:CF /d2:-AllowCompatibleILVersions /libpath:"\"F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\no\lib\"" 

ARFLAGS=/libpath:"\"F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\no\lib\"" 

SNAPSHOT_TEMPLATE=no 

PHP_DIR=F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64 

PHP_SIMD_SCALE=SSE2 

CFLAGS_PHP=/D _USRDLL /D PHP_EXPORTS /D LIBZEND_EXPORTS /D TSRM_EXPORTS /D SAPI_EXPORTS /D WINVER=0x0602 /D COMPILE_DL_HTML2IMG 

HTML2IMG_GLOBAL_OBJS=$(BUILD_DIR)\\cache.obj $(BUILD_DIR)\\cairo_canvas.obj $(BUILD_DIR)\\cairo_container.obj $(BUILD_DIR)\\ft_cache.obj $(BUILD_DIR)\\path_utils.obj $(BUILD_DIR)\\php_html2img.obj 

HTML2IMG_GLOBAL_OBJS_RESP=@"F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\x64\Release\resp\HTML2IMG_GLOBAL_OBJS.txt" 

EXT_TARGETS=php_html2img.dll 

CFLAGS_HTML2IMG_OBJ=$(CFLAGS_HTML2IMG) 

CFLAGS_BD_=/Fp$(BUILD_DIR)\\ /FR$(BUILD_DIR)\\ /Fd$(BUILD_DIR)\\ 

PHP_GLOBAL_OBJS=$(BUILD_DIR)\\ 

PHP_GLOBAL_OBJS_RESP=@"F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\x64\Release\resp\PHP_GLOBAL_OBJS.txt" 

CFLAGS_HTML2IMG=/D ZEND_COMPILE_DL_EXT=1 /D COMPILE_DL_HTML2IMG /D HTML2IMG_EXPORTS=1 /std:c++17 /DCAIRO_WIN32_STATIC_BUILD /MT /EHsc /DWIN32 /DNDEBUG /DHTML2IMG_EXPORTS /D_UNICODE /DUNICODE /I ..\thirdparty\litehtml\src\gumbo\include /I ..\thirdparty\litehtml\src\gumbo\visualc\include /I ..\thirdparty\litehtml\src\gumbo\include\gumbo /I ..\thirdparty\litehtml\include /I ..\thirdparty\litehtml\include\litehtml /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\include\freetype2 /I F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\include\cairo 

LDFLAGS_HTML2IMG=/libpath:"F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\lib" 

LIBS_HTML2IMG=litehtml.lib cairo.lib freetype.lib giflib5.lib libgif.lib libpng.lib libjpeg_a.lib gif.lib libcrypto.lib libpixman-1.lib libpng_a.lib gdi32.lib msimg32.lib libgio-2.0.lib 

BUILD_DIRS_SUB=F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\x64\Release 

PHP_TEST_INI_PATH=""

CC="$(PHP_CL)"
LD="$(LINK)"
MC="$(MC)"
MT="$(MT)"

PHPSDK_DIR=$(PHP_DIR)
PHPLIB=$(PHPSDK_DIR)\lib\$(PHPLIB)
LDFLAGS=$(LDFLAGS) /libpath:"$(PHPSDK_DIR)\lib\;$(PHPSDK_DIR)"
BUILD_DIR_DEV=$(PHPSDK_DIR)

!if "$(DEBUGGER)" == "1"
DEBUGGER_CMD=devenv
DEBUGGER_ARGS=/debugexe
!else
DEBUGGER_CMD=
DEBUGGER_ARGS=
!endif

all: $(EXT_TARGETS) $(PECL_TARGETS)

build_dirs: $(BUILD_DIR) $(BUILD_DIRS_SUB)

clean-pecl:
	@echo Cleaning PECL targets only
	-rd /s /q $(BUILD_DIR)\pecl

clean-all:
	@echo Cleaning standard build dirs
	cd $(BUILD_DIR)
	@for %D in (_x $(BUILD_DIRS_SUB)) do @if exist %D @rd /s /q %D
	-@del /f /q $(BUILD_DIR)\*.res $(BUILD_DIR)\*.manifest $(BUILD_DIR)\*.lib $(BUILD_DIR)\*.ilk $(BUILD_DIR)\*.pdb $(BUILD_DIR)\*.exp $(PHPDEF) $(BUILD_DIR)\*.rc $(BUILD_DIR)\*.dbg $(BUILD_DIR)\*.bin $(BUILD_DIR)\php*.dll $(BUILD_DIR)\php*.exe > NUL

clean: clean-pecl
	@echo Cleaning distribution build dirs
	cd $(BUILD_DIR)
	@for %D in (_x $(BUILD_DIRS_SUB)) do @if exist %D @del /F /Q %D\*.* > NUL
	-@del /F /Q $(BUILD_DIR)\*.res $(BUILD_DIR)\*.lib $(BUILD_DIR)\*.ilk $(BUILD_DIR)\*.pdb $(BUILD_DIR)\*.exp $(PHPDEF) $(BUILD_DIR)\php-$(PHP_VERSION_STRING)-Win32.zip $(BUILD_DIR)\pecl-$(PHP_VERSION_STRING)-Win32.zip > NUL

!if "$(EXT_TARGETS)" == ""
_EXTENSION_DLL=$(PECL_TARGETS)
!else
_EXTENSION_DLL=$(EXT_TARGETS)
!endif

!if $(PHP_TEST_INI_PATH) == ""
test: set-tmp-env
	$(DEBUGGER_CMD) $(DEBUGGER_ARGS) "$(PHP_PREFIX)\php.exe" -d open_basedir= -d output_buffering=0 run-tests.php -p "$(PHP_PREFIX)\php.exe" -d extension=$(BUILD_DIR)\$(_EXTENSION_DLL) $(TESTS)

run: set-tmp-env
	$(DEBUGGER_CMD) $(DEBUGGER_ARGS) "$(PHP_PREFIX)\php.exe" -n -d extension=$(BUILD_DIR)\\$(_EXTENSION_DLL) $(ARGS)
!else
test: set-tmp-env
	$(DEBUGGER_CMD) $(DEBUGGER_ARGS) "$(PHP_PREFIX)\php.exe" -n -d open_basedir= -d output_buffering=0 -d memory_limit=-1 run-tests.php -p "$(PHP_PREFIX)\php.exe" -n -c $(PHP_TEST_INI_PATH) $(TESTS)

run: set-tmp-env
	$(DEBUGGER_CMD) $(DEBUGGER_ARGS) "$(PHP_PREFIX)\php.exe" -n -c $(PHP_TEST_INI_PATH) $(ARGS)
!endif

!if $(MT) == ""
_VC_MANIFEST_EMBED_EXE=
_VC_MANIFEST_EMBED_DLL=
!else
_VC_MANIFEST_EMBED_EXE= if exist $@.manifest $(MT) -nologo -manifest $@.manifest -outputresource:$@;1
_VC_MANIFEST_EMBED_DLL= if exist $@.manifest $(MT) -nologo -manifest $@.manifest -outputresource:$@;2
!endif

install: build-headers  build-bins
build-headers:
	@if not exist $(BUILD_DIR_DEV)\include mkdir $(BUILD_DIR_DEV)\include >nul
	@for %D in ($(INSTALL_HEADERS_DIR)) do @if not exist $(BUILD_DIR_DEV)\include\%D mkdir $(BUILD_DIR_DEV)\include\%D >nul
	@for %D in ($(INSTALL_HEADERS_DIR)) do @copy %D*.h $(BUILD_DIR_DEV)\include\%D /y >nul

build-bins:
	@copy $(BUILD_DIR)\php_html2img.lib $(BUILD_DIR_DEV)\lib
  @if not exist $(PHP_PREFIX) mkdir $(PHP_PREFIX) >nul
  @if not exist $(PHP_PREFIX)\ext mkdir $(PHP_PREFIX)\ext >nul
	@copy $(BUILD_DIR)\php_html2img.dll $(PHP_PREFIX)\ext

set-tmp-env:
	@set PATH=$(PHP_BUILD)\bin;$(PATH)


dump-tmp-env: set-tmp-env
	@set



# objects for EXT html2img

$(BUILD_DIR)\\cache.obj $(BUILD_DIR)\\cairo_canvas.obj $(BUILD_DIR)\\cairo_container.obj $(BUILD_DIR)\\ft_cache.obj $(BUILD_DIR)\\path_utils.obj $(BUILD_DIR)\\php_html2img.obj: F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cache.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cairo_canvas.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cairo_container.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\ft_cache.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\path_utils.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\php_html2img.cpp
	$(CC) $(CFLAGS_HTML2IMG_OBJ) $(CFLAGS) /Fo$(BUILD_DIR)\\ $(CFLAGS_BD_) /c F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cache.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cairo_canvas.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\cairo_container.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\ft_cache.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\path_utils.cpp F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\src\php_html2img.cpp 

$(BUILD_DIR)\php_html2img.dll.res: $(PHP_DIR)\build\template.rc
	$(RC) /nologo  $(BASE_INCLUDES) /I $(PHP_DIR)/include /n /fo $(BUILD_DIR)\php_html2img.dll.res /d FILE_DESCRIPTION="\"php_html2img.dll\"" /d FILE_NAME="\"php_html2img.dll\"" /d URL="\"https://www.php.net\"" /d INTERNAL_NAME="\"HTML2IMG extension\"" /d THANKS_GUYS="\"\"" $(PHP_DIR)\build\template.rc

$(BUILD_DIR)\php_html2img.dll.manifest: F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\build\default.manifest
	@copy F:\development\steam\emulator_bot\php_html2img_ext\php-8.4.10-devel-vs17-x64\build\default.manifest $(BUILD_DIR)\php_html2img.dll.manifest >nul
$(BUILD_DIR)\php_html2img.lib: $(BUILD_DIR)\php_html2img.dll

$(BUILD_DIR)\php_html2img.dll: $(DEPS_HTML2IMG) $(HTML2IMG_GLOBAL_OBJS) $(PHPLIB) $(BUILD_DIR)\php_html2img.dll.res $(BUILD_DIR)\php_html2img.dll.manifest
	"$(LINK)" $(HTML2IMG_GLOBAL_OBJS_RESP) $(PHPLIB) $(LIBS_HTML2IMG) $(LIBS) $(BUILD_DIR)\php_html2img.dll.res /out:$(BUILD_DIR)\php_html2img.dll $(DLL_LDFLAGS) $(LDFLAGS) $(LDFLAGS_HTML2IMG)
	-@$(_VC_MANIFEST_EMBED_DLL)

php_html2img.dll: $(BUILD_DIR)\php_html2img.dll
	@echo EXT html2img build complete

$(BUILD_DIR)\\: html2img\
	$(CC) $(CFLAGS_PHP_OBJ) $(CFLAGS) /Fo$(BUILD_DIR)\\ $(CFLAGS_BD_) /c html2img\ 


